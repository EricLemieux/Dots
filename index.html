<!doctype html>
<html>
<head>
  <title>Paddle</title>
  <script type="text/javascript" src="js/phaser.min.js"></script>
</head>

<body>
  <script type="text/javascript">
    var game = new Phaser.Game(400, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });
    var sprite;
    var canPaddle = true;

    //Some global variable
    var _turnSpeed = 15;

    function preload() {
      //Players avatar
    game.load.image('boat', 'assets/sprites/boat.png');

    //River background
    game.load.image('river', 'assets/sprites/river.jpg');

    }

    function create() {
      //Create the background
      var river = game.add.sprite(0,0,'river');

      sprite = game.add.sprite(0, 0, 'boat');
      sprite.scale.setTo(4,4);
      sprite.anchor.setTo(0.5, 0.5);
      sprite.position.setTo(200, 450);

    }

    function update(){
      if(game.input.activePointer.isDown){
        if(canPaddle){
          if(game.input.activePointer.screenX > sprite.position.x){
            sprite.angle -= _turnSpeed;
          }else{
            sprite.angle += _turnSpeed;
          }
          canPaddle = false;
        }
      }else{
        if(!canPaddle){
          canPaddle = true;
        }
      }
    }
  </script>
</body>
</html>
